<ion-toolbar>
  <ion-title>Registro</ion-title>
  <ion-buttons slot="end" routerLink="/home">
    <ion-button> Back</ion-button>
  </ion-buttons>
</ion-toolbar>

<ion-content [fullscreen]="true">
  <div class="home-section ion-padding" >
    <div class="heading ion-padding" >
      <h1>Registrar</h1>
    </div>
    <form [formGroup]="formRegistro" (keyup.enter)="registrar()">
      <ion-item>
        <ion-input 
        label="Nombre:" 
        labelPlacement="floating" 
        [clearInput]="true" 
        placeholder="Introduce tu nombre"
        formControlName="nombre"
        errorText="Debe ingresar su nombre"
        required>
        </ion-input>
      </ion-item>
      <ion-item>
        <ion-input 
        label="Apellido:" 
        labelPlacement="floating" 
        [clearInput]="true" 
        placeholder="Introduce tu apellido"
        formControlName="apellido"
        errorText="Debe ingresar su apellido"
        required>
        </ion-input>
      </ion-item>
      <ion-item>
        <ion-input 
        label="Rut:" 
        labelPlacement="floating" 
        [clearInput]="true" 
        placeholder="Introduce tu rut (ej: 12.123.123-0)"
        formControlName="rut"
        errorText="Debe ingresar su rut"
        required>
        </ion-input>
      </ion-item>
      <!-- <ion-item>
        <ion-input 
        label="Carrera:" 
        labelPlacement="floating" 
        [clearInput]="true" 
        placeholder="Introduce tu carrera"
        formControlName="carrera"
        errorText="Debe ingresar una carrera"
        required>
        </ion-input>
      </ion-item> -->

      <!-- Carrera -->
     
        <ion-item>
          <ion-label position="stacked">Escuela</ion-label>
          <ion-select formControlName="escuela" (ionChange)="onEscuelaChange()">
            <ion-select-option value="Administracion y Negocio"> Administracion y Negocio </ion-select-option>
            <ion-select-option value="Comunicacion"> Comunicacion </ion-select-option>
            <ion-select-option value="Gastronomia"> Gastronomia </ion-select-option>
            <ion-select-option value="Informatica y Telecomunicaciones"> Informatica y Telecomunicaciones </ion-select-option>
            <ion-select-option value="Salud"> Salud </ion-select-option>
            <ion-select-option value="Turismo y Hoteleria"> Turismo y Hoteleria </ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item *ngIf="formRegistro.get('escuela')">
          <ion-label position="stacked">Carrera</ion-label>
          <ion-select formControlName="carrera">
            <!-- Opciones de carrera mostradas dinámicamente según la elección de la escuela -->
            <ion-select-option *ngFor="let option of opcionesCarrera" [value]="option">{{ option }}</ion-select-option>
          </ion-select>
        </ion-item>
     
      
      <!-- <ion-item>
        <ion-input 
        label="Correo:" 
        labelPlacement="floating" 
        [clearInput]="true" 
        placeholder="Introduce tu correo"
        formControlName="correo"
        type="email"
        errorText="Debe ingresar su correo"
        required>
        </ion-input>
      </ion-item>
      <div *ngIf="formRegistro.get('correo')?.hasError('required')" class="error-message">
        El correo es obligatorio.
      </div>
      <div *ngIf="formRegistro.get('correo')?.hasError('email')" class="error-message">
        El correo no es válido.
      </div> -->
      <ion-item>
        <ion-input 
        label="Contraseña:" 
        labelPlacement="floating" 
        type="password" 
        placeholder="Introduce tu Contraseña"
        formControlName="contraseña"
        errorText="Debe ingresar una contraseña"
        required>
        </ion-input>
      </ion-item>
    </form>
    <div class="action-button ion-padding">
      <ion-button size="small" class="registrar" slot="end" [routerLink]="['/home']" routerLinkActive="router-link-active"  (click)="registrar()">Registrar</ion-button>
    </div>
  </div>
</ion-content>
